---
layout: post
title: "计算机网络学习简记"
date:   1970-01-01
tags: [学校课程复习,计算机网络]
comments: true
toc: true
author: Ainski
---
任课老师：Lu

---

# 计算机网络学习简记
## 数据链路层设计
- **提供给网络层的服务** 3种服务
    - **无确认的无连接服务**
        目标主机不检错，不纠错，不恢复。对**错误率很低**的网络或者**实时通信（视频通话）**。
    - **有确认的无连接服务**
        目标主机检错，发送方重发。在不可靠的信道（无线系统）上非常有用。超时之后整个包会重发。
    - **有确认的面向连接服务**
        保持连接，每个包单独重发。这提供了可靠的比特流。用于长距离且不可靠的链路。例如卫星信道或者长途电话。
- **数据成帧** 四种成帧方法
    - **字节计数法**
        每个帧先说明有多少字节。
        缺点：字节计数值出错之后目标方并不知道应该跳过多少字节才能到达重传的开始出。
    - **字节填充的标志字节法（PPP协议）**
        用同样的字节作为帧开始和结束分解符。对于传输数据中偶尔出现的这种字节，用`esc+这个字节`做转移处理。同样的，对于esc字符也要转义，形成`esc+esc`。
    - **比特填充的标志比特法（HDLC协议）**
        每个帧的开始于结束由一个特殊的比特模式`0x7E`来标记。在输出的比特流当中每遇到连续5个1就填充一个0.接收方每遇到5个1就跳过一个0。
    - **物理层编码例外法**
        采用编码例外来区分数据边界。例如`4B/5B`编码法。采用其中没有出现的编码作为数据边界。
- **差错控制**
接收方返回一些特殊的控制帧用以判断是否安全的到达。

- **流量控制**
    - **基于反馈的流量控制**：接收方给发送方返回消息，允许他发送更多的数据，或者告诉他进行得怎么样
    - **基于速率的流浪控制**：限制发送方传输数据的速率。


## 错误检测和纠正
### 纠错码
#### 海明码
此处选择 **4位原始数据D4D3D2D1=1010** ，采用“偶校验”（校验位使对应组数据中1的个数为偶数），分步演示监督码元插入与错误纠正过程。

1. **第一步：确定监督码元位数与位置**
   - 确定r值：根据规则 **2^r ≥ k + r + 1**（k为原始数据位数，此处k=4），计算得2^3=8 ≥ 4+3+1=8，故r=3，监督码元记为r3、r2、r1。
   - 分配位置：监督码元放在“2的幂次”位置（1、2、4），数据位放剩余位置（3、5、6、7），具体如下表：

| 海明码位置（H） | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
|----------------|---|---|---|---|---|---|---|
| 码元类型       | r1| r2| D1| r3| D2| D3| D4|
| 代入原始数据   | ？| ？| 0 | ？| 1 | 0 | 1 |

2. **第二步：计算监督码元（r1、r2、r3）**
   每个监督码元负责“一组位置”的偶校验（组内所有位二进制和为0），分组及计算如下：
   - r1：负责位置1、3、5、7，即 r1⊕D1⊕D2⊕D4 = 0 → r1⊕0⊕1⊕1 = 0 → r1=0
   - r2：负责位置2、3、6、7，即 r2⊕D1⊕D3⊕D4 = 0 → r2⊕0⊕0⊕1 = 0 → r2=1
   - r3：负责位置4、5、6、7，即 r3⊕D2⊕D3⊕D4 = 0 → r3⊕1⊕0⊕1 = 0 → r3=0
   最终生成海明码：**H7H6H5H4H3H2H1 = 1 0 1 0 0 1 0**（即1010010）。

3. **第三步：错误纠正示例（模拟第5位出错）**
   假设传输中第5位（原D2=1）出错变为0，接收的错误海明码为1 0 0 0 0 1 0，纠错步骤如下：
   - 计算校验值（S1、S2、S3）：按同样分组规则计算，S=0表示无错，S=1表示有错
     - S1 = r1⊕D1⊕D2（错误后）⊕D4 = 0⊕0⊕0⊕1 = 1
     - S2 = r2⊕D1⊕D3⊕D4 = 1⊕0⊕0⊕1 = 0
     - S3 = r3⊕D2（错误后）⊕D3⊕D4 = 0⊕0⊕0⊕1 = 1
   - 定位错误位置：将S3S2S1组合（101），对应十进制**5**，即第5位出错。
   - 纠正错误：将第5位的0改回1，恢复原始海明码，完成纠错。




